<li class="dropdown messages-menu">
  <a href="javascript:" class="dropdown-toggle" data-hover="dropdown">
    <i class="fa fa-envelope-o"></i>
    <span class="label label-success" id="msgNum">0</span>
  </a>
  <ul class="dropdown-menu">
    <li class="header">你有 <span id="msgNum2">0</span> 条消息</li>
    <li>
      <ul class="menu" id="msgList"
        data-mergeMsgLimit="5"
        data-mergeMsgTitle="系统消息"
        data-mergeMsgContent="您有 {0} 条新消息，由于消息太多，这里为您合并，请点击查看按钮看详情。"></ul>
    </li>
    <li class="footer"><a href="javascript:" data-href="${ctxPath}/msg/list_readF"
      data-title="查看全部消息" class="addTabPage">查看全部消息</a></li>
  </ul>
  <script src="${ctxPath}/jquery-timeago/jquery.timeago.js"></script>
  <script src="${ctxPath}/jquery-timeago/i18n/jquery.timeago.zh_CN.js"></script>
  <script src="${ctxPath}/modules/msg/topMenuMsg.js"></script>
  <script type="text/template" id="msgListTpl">
    <li id="msg{{d.id}}"><a href="javascript:"
        data-href="${ctxPath}/msg/info?msgInnerRecordId={{d.id}}"
        onclick="readMsg(this, '查看消息', '{{d.id}}')" >
      <div class="pull-left"><i class="img-circle bg-aqua icon-bubble"></i></div>
      <h4>{{d.msgInner.msgTitle}} <small><i class="fa fa-clock-o"></i>
        <abbr class="timeago" title="{{d.msgInner.sendDate}}">{{d.msgInner.sendDate}}</abbr></small></h4>
      <p>{{=d.msgInner.msgContent}}</p>
    </a></li>
  </script>
  <script type="text/template" id="msgTipTpl">
    <abbr class="timeago" title="{{d.msgInner.sendDate}}">{{d.msgInner.sendDate}}</abbr>
      {{d.msgInner.sendUserName}} <br/> {{=d.msgInner.msgContent}} 
    <div style="margin:8px 0 0;float:right;">     
      <button type="button" class="btn btn-default btn-sm"
        data-href="${ctxPath}/msg/info?msgInnerRecordId={{d.id}}"
        onclick="readMsg(this, '消息详情', '{{d.id}}')">查看</button>&nbsp;
    </div>
  </script>
</li>